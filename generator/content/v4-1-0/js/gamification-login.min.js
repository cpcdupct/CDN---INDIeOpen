!function(){const t=window.location.pathname.split("/")[1]+"-username";let n=JSON.parse(sessionStorage.getItem(t))||null;n&&window.location.replace("game.html"),$("#select-username-form").on("submit",function(e){n=$("#input-username").val()||"Unknown",sessionStorage.setItem(t,JSON.stringify(n))});function a(e,s){function a(e,t){let n=$("<button />").data("dismiss","alert").attr("type","button").attr("aria-hidden","false").attr("aria-label",s("Close")).addClass("close").html(' <span aria-hidden="true">&times;</span>'),a=$("<div />").addClass("alert alert-dismissible fade show "+e).html(t).append(n);return n.on("click",function(){a.alert("close")}),t=Math.max(6e3,60*t.length),setTimeout(function(){a.alert("close")},t),a.alert(),a}$("#speech-to-action-login").on("speech-to-action",function(e,t,n){if("FINISH"!==t&&"START"!==t){let e=$(this).closest(".container");"WRITE"===t?e.find("#input-username").val(n.text):"DELETE"===t?e.find("#input-username").val(""):"REPEAT"===t?e.find(".tta-message").append(a("alert-info",s("tta-info-login"))):"CLOSE"===t&&$(".alert").length?$(".alert").alert("close"):"SELECT"===t?$("#btn-username").trigger("click"):e.find(".tta-message").append(a("alert-danger",s("tta-error-message")))}})}$("#input-username").focus();let s=$("html").attr("lang");fetch(`https://cdn-cpcd-upct-e2bdhub5efg7c9hk.z01.azurefd.net/$web/generator/content/v4-1-0/languages/${s}.json`).then(e=>e.json()).then(e=>i18next.createInstance({lng:s,resources:{[s]:{translation:e}}},a))}();